{{ range $pvIndex, $pv := .Values.persistentBlockVolumes }}
{{ range $nodeNum, $nodes := until ($.Values.numNodes | int) }}
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: motr-{{ $pv.disk }}-node{{ add $nodeNum 1 }}
spec:
  accessModes:
    - ReadWriteMany
  volumeMode: Block
  resources:
    requests:
      storage: {{ $.Values.pvcSize }}
  volumeName: motr-{{ $pv.disk }}-node{{ add $nodeNum 1 }}
---
{{ end }}
{{ end }}
